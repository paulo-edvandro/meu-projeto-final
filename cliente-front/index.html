<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>CRUD Produtos</title>
  <style>
    body { font-family: Arial; max-width: 700px; margin: 20px auto; background: #f9f9f9; }
    h2 { text-align: center; color: #333; }
    .box { background: #fff; border-radius: 8px; padding: 15px; margin-top: 20px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
    input, button { margin: 5px 0; padding: 8px; width: 100%; box-sizing: border-box; }
    button { background-color: #4CAF50; color: white; border: none; cursor: pointer; border-radius: 4px; }
    button:hover { background-color: #45a049; }
    pre { background: #eee; padding: 10px; border-radius: 5px; overflow-x: auto; }
  </style>
</head>
<body>

<h2>CRUD Produtos (Front)</h2>

<div class="box">
  <h3>Criar Produto</h3>
  <input id="nome" placeholder="Nome">
  <input id="descricao" placeholder="Descrição">
  <input id="preco" placeholder="Preço" type="number">
  <button onclick="criar()">Criar</button>
</div>

<div class="box">
  <h3>Listar Todos</h3>
  <button onclick="listar()">Listar</button>
  <pre id="lista"></pre>
</div>

<div class="box">
  <h3>Consultar por ID</h3>
  <input id="idBusca" placeholder="ID">
  <button onclick="buscarID()">Buscar</button>
  <pre id="resultadoID"></pre>
</div>

<div class="box">
  <h3>Atualizar Produto</h3>
  <input id="idUpdate" placeholder="ID do Produto">
  <input id="nomeUpdate" placeholder="Nome">
  <input id="descricaoUpdate" placeholder="Descrição">
  <input id="precoUpdate" placeholder="Preço" type="number">
  <button onclick="atualizar()">Atualizar</button>
</div>

<div class="box">
  <h3>Deletar Produto</h3>
  <input id="idDel" placeholder="ID do Produto">
  <button onclick="deletar()">Deletar</button>
</div>

<script>
const API = "http://3.235.188.2:8080"; // troque para a URL do seu back-end

async function criar() {
  await fetch(API + "/produtos", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({
      nome: nome.value,
      descricao: descricao.value,
      preco: preco.value
    })
  });
  alert("Criado!");
}

async function listar() {
  const dados = await fetch(API + "/produtos").then(r => r.json());
  lista.innerText = JSON.stringify(dados, null, 2);
}

async function buscarID() {
  const dados = await fetch(API + "/produtos/" + idBusca.value).then(r => r.json());
  resultadoID.innerText = JSON.stringify(dados, null, 2);
}

async function atualizar() {
  await fetch(API + "/produtos/" + idUpdate.value, {
    method: "PUT",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({
      nome: nomeUpdate.value,
      descricao: descricaoUpdate.value,
      preco: precoUpdate.value
    })
  });
  alert("Atualizado!");
}

async function deletar() {
  await fetch(API + "/produtos/" + idDel.value, { method: "DELETE" });
  alert("Produto deletado!");
}
</script>

</body>
</html>
